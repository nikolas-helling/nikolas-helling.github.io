<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="XFUI4-qITA-adI-KHb247EIycGe29jkTMZelrcYYVc4"> <meta name="msvalidate.01" content="45781F344C0DA9E42211C13CCD701B43"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Interaction Control for Humanoid Robot | Nikolas Helling </title> <meta name="author" content="Nikolas Helling"> <meta name="description" content="Force control for Oversonic Robotics' humanoid robot RoBee (image courtesy of Oversonic Robotics)"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/pers_website_logo.jpg?a5fd628cc23908530730ebfa2d4089ed"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://nikolas-helling.github.io/projects/2_project/"> <script src="/assets/js/theme.js?bc98222b904c9daed12bdba53b2b5c28"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Nikolas</span> <span class="font-weight-bold">Helling</span> </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About Me </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">Projects <span class="sr-only">(current)</span> </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Interaction Control for Humanoid Robot</h1> <p class="post-description">Force control for Oversonic Robotics' humanoid robot RoBee (image courtesy of Oversonic Robotics)</p> </header> <article> <p>During my master’s program, I collaborated with a group of selected students on a semester project with <a href="https://oversonicrobotics.com/?lang=en" rel="external nofollow noopener" target="_blank">Oversonic Robotics</a>, an Italian tech company developing an advanced humanoid robot for industrial and harsh environments. The goal of the project was to design a custom compliance controller for their humanoid RoBee, allowing for intuitive manual guidance and safer, compliant physical interactions with humans. The task involved implementing an inverse kinematics-based admittance control system for the humanoid’s arms, starting from a detailed upper-torso model and leveraging MATLAB &amp; Simulink for simulation and control.</p> <p>To implement the compliant controller, the first step was to develop an inverse differential kinematics algorithm. This algorithm transforms external wrenches (forces and torques) measured in operational space and desired end-effector motions, into corresponding joint level references for the low-level motion controllers. A robust joint control scheme was then designed to achieve precise actuation. On top of this, a high-level admittance controller was developed and fine-tuned using the available model of the humanoid. The resulting control system enables accurate task-space motion planning for the humanoid’s arm and can be configured to ensure compliance during physical interaction. Depending on the application, it can be tuned to achieve full compliance (e.g., manual guidance), safe collisions during task execution, or a hybrid approach for adaptive interactions according to a custom switching logic.</p> <div class="row align-items-center"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/proj2/robee-robot-certificato-768x1152-480.webp 480w,/assets/img/proj2/robee-robot-certificato-768x1152-800.webp 800w,/assets/img/proj2/robee-robot-certificato-768x1152-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/proj2/robee-robot-certificato-768x1152.png" class="img-fluid rounded z-depth-1" width="55%" height="55%" style="display: flex; justify-content: center; align-items: center; margin: auto;" title="Application setup" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Humanoid RoBee (image courtesy of <a href="https://oversonicrobotics.com/?lang=en" rel="external nofollow noopener" target="_blank">Oversonic Robotics</a>). </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/proj2/dh_robee-480.webp 480w,/assets/img/proj2/dh_robee-800.webp 800w,/assets/img/proj2/dh_robee-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/proj2/dh_robee.png" class="img-fluid rounded z-depth-1" width="60%" height="60%" style="display: flex; justify-content: center; align-items: center; margin: auto;" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> RoBee's torso DH representation. </div> </div> </div> <p>An inverse differential kinematics algorithm was developed using a closed loop kinematic control architecture with a Jacobian-based structure. This architecture effectively overcomes singular representations and can be tuned for zero steady-state error with a desired convergence rate. The inverse kinematics algorithm demonstrated errors on the order of \(10^{-5}\) m in position and \(10^{-4}\) radians in orientation during simulation. These results validate the mathematical accuracy of the algorithm under ideal conditions, providing a strong foundation for further development and real-world tolerances. The inverse kinematic algorithm can be summarized as follows:</p> \[\mathbf{q} = \mathbf{J}^*_{\mathbf{A(q)}} \left( \dot{\mathbf{x}}_d + \mathbf{K} (\mathbf{x}_d - \mathbf{x(q)}) \right),\] <p>where \(\mathbf{q}\) are the joint variables, \(\mathbf{J}^*_{\mathbf{A(q)}}\) is the pseudo-inverse of the analytical Jacobian, \(\dot{\mathbf{x}}_d\) are the desired end-effector velocities, \(\mathbf{K}\) is the tunable gain matrix, and \(\mathbf{x(q)}\) are the current task-space quantities computed through direct kinematics.</p> <p>The low-level joint control scheme was designed to operate an order of magnitude faster than the high-level force control. To achieve this, a centralized PID scheme is developed ensuring robust disturbance rejection, particularly of joint coupling terms during motion. This low-level control ensures precise tracking of joint positions and velocities while compensating for dynamic disturbances.</p> <p>At the highest level, an admittance controller is developed in task-space, directly handling the wrenches applied to the end-effector’s force sensor. The admittance controller is designed to provide a spring-mass-damper behavior for the robotic arm, where the system’s stiffness, damping, and mass can be dynamically adjusted to suit the application. With the assumption of a fast low-level control, this implicit force controller does not rely on the full dynamic model of the torso and only acts on the end-effector reference trajectories. Given the inverse differential kinematics scheme, the multi-level controller can be implemented and tested directly in task-space coordinates, allowing for easier integration of motion planning while enabling adaptive physical interaction.</p> <div class="row align-items-center"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/proj2/ee_error_idk-480.webp 480w,/assets/img/proj2/ee_error_idk-800.webp 800w,/assets/img/proj2/ee_error_idk-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/proj2/ee_error_idk.png" class="img-fluid rounded z-depth-1" width="90%" height="90%" style="display: flex; justify-content: center; align-items: center; margin: auto;" title="Application setup" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Simulated error of the inverse differential kinematics algorithm. </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/proj2/error_adm-480.webp 480w,/assets/img/proj2/error_adm-800.webp 800w,/assets/img/proj2/error_adm-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/proj2/error_adm.png" class="img-fluid rounded z-depth-1" width="90%" height="90%" style="display: flex; justify-content: center; align-items: center; margin: auto;" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Simulated error of the overall admittance control (manual guidance). </div> </div> </div> <p>The admittance controller allows the robotic arm to achieve a spring-mass-damper response, which can be automatically adjusted for complete compliance (with stiffness set to 0) or smooth collision handling (with stiffness set to a value greater than 0) during task execution.</p> <p>This flexibility enables the robot to adapt to various interaction scenarios, ensuring safe and efficient coexistence with humans. An example use case for this system could involve the humanoid robot operating autonomously and, in the event of human contact, dynamically adjusting its controller to facilitate manual guidance by the human during a failed task or ensuring safe collision handling for unexpected human-robot interactions. Moreover, an advanced hybrid approach could also enable collaborative manipulation of objects, allowing the humanoid and human to work together in physically demanding tasks, such as shared object carrying, achieving true physical collaboration.</p> <p>The following media showcases some example interactions with the humanoid’s arm when using the developed force control scheme, including a preview of the overall Simulink implementation.</p> <div class="row align-items-center"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/f1.mp4" class="img-fluid rounded z-depth-1" width="75%" height="75%" style="display: flex; justify-content: center; align-items: center; margin: auto;" autoplay="" controls="" loop=""></video> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/f2.mp4" class="img-fluid rounded z-depth-1" width="75%" height="75%" style="display: flex; justify-content: center; align-items: center; margin: auto;" autoplay="" controls="" loop=""></video> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/proj2/force-480.webp 480w,/assets/img/proj2/force-800.webp 800w,/assets/img/proj2/force-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/proj2/force.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" style="display: flex; justify-content: center; align-items: center; margin: auto;" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Application of linear forces showcasing the arm's compliance achieved with the controller when tuned for manual guidance. </div> <div class="row align-items-center"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/t1.mp4" class="img-fluid rounded z-depth-1" width="75%" height="75%" style="display: flex; justify-content: center; align-items: center; margin: auto;" autoplay="" controls="" loop=""></video> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/t2.mp4" class="img-fluid rounded z-depth-1" width="75%" height="75%" style="display: flex; justify-content: center; align-items: center; margin: auto;" autoplay="" controls="" loop=""></video> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/proj2/torque-480.webp 480w,/assets/img/proj2/torque-800.webp 800w,/assets/img/proj2/torque-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/proj2/torque.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" style="display: flex; justify-content: center; align-items: center; margin: auto;" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Application of torques showcasing the arm's compliance achieved with the controller when tuned for manual guidance. </div> <div class="row align-items-center"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/proj2/simulink_model-480.webp 480w,/assets/img/proj2/simulink_model-800.webp 800w,/assets/img/proj2/simulink_model-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/proj2/simulink_model.png" class="img-fluid rounded z-depth-1" width="80%" height="80%" style="display: flex; justify-content: center; align-items: center; margin: auto;" title="Application setup" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Overall Simulink scheme involving humanoid model, high and low level control system, and simulated interactions. </div> </div> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Nikolas Helling. Powered by Jekyll with al-folio theme and hosted on GitHub Pages. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id="></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script>for(var wechatModal=document.getElementById("WeChatMod"),wechatBtn=document.querySelectorAll('[id="WeChatBtn"]'),i=0;i<wechatBtn.length;i++)wechatBtn[i].onclick=function(){wechatModal.style.display="block"};window.onclick=function(t){t.target==wechatModal&&(wechatModal.style.display="none")};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>